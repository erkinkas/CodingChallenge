parameters:
  workingDirectory: ""

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: "10.x"
    displayName: "Install Node.js"

  - script: |
      npm install -g @angular/cli@8.2
      npm install
    workingDirectory: ${{ parameters.workingDirectory }}
    displayName: "Install angular and restore packages"

  - script: |
      npm run test-headless
    workingDirectory: ${{ parameters.workingDirectory }}
    displayName: "Run tests"

  - script: |
      npm run e2e
    workingDirectory: ${{ parameters.workingDirectory }}
    displayName: "Run e2e tests"
