pool:
  vmImage: "ubuntu-latest"

variables:
  - name: workingDirectory
    value: paymentsense-coding-challenge-website

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: "10.x"
    displayName: "Install Node.js"

  - script: |
      npm install -g @angular/cli
      npm install
    workingDirectory: $(workingDirectory)
    displayName: "Install angular and restore packages"

  - script: |
      npm run test
    workingDirectory: $(workingDirectory)
    displayName: "Run tests"
