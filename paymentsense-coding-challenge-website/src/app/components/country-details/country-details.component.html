<mat-tab-group mat-align-tabs="start"
               animationDuration="0ms"
               *ngIf="country">
  <mat-tab label="Main">

    <mat-card class="card">
      <mat-card-header class="header">
        <mat-card-title class="name">{{ country.name }} ({{ country.alpha3Code }})</mat-card-title>
        <mat-card-subtitle>{{ country.region }}</mat-card-subtitle>
      </mat-card-header>
      <div class="content">
        <img mat-card-image
             src="{{ country.flag }}"
             alt="{{ country.name }}">
        <table class="table-details">
          <tr>
            <td>Population:</td>
            <td>{{ country.population }}</td>
          </tr>
          <tr>
            <td>Capital:</td>
            <td>{{ country.capitalCity }}</td>
          </tr>
          <tr>
            <td>Time zones:</td>
            <td>
              <span *ngIf="!country.timezones">None</span>
              <div *ngFor="let tz of country.timezones; let i = index">{{ i + 1 }}: {{ tz }}</div>
            </td>
          </tr>
          <tr>
            <td>Bordering with {{ country.borderingCountries?.length }} countries:</td>
            <td>
              <span *ngIf="!country.borderingCountries">None</span>
              <div *ngFor="let bc of country.borderingCountries">- {{ bc }}</div>
            </td>
          </tr>

        </table>


      </div>
    </mat-card>

  </mat-tab>

  <mat-tab label="Currencies">

    <div *ngIf="!country.currencies">
      No currencies
    </div>
    <div *ngIf="country.currencies">
      <mat-list>
        <div mat-subheader>Currencies</div>
        <mat-list-item *ngFor="let c of country.currencies">
          <mat-icon mat-list-icon>bubble_chart</mat-icon>
          <div mat-line> {{c.name }} </div>
          <div mat-line> {{c.symbol }} {{c.code}} </div>
        </mat-list-item>
      </mat-list>
    </div>

  </mat-tab>

  <mat-tab label="Languages">

    <div *ngIf="!country.languages">
      No languages
    </div>
    <div *ngIf="country.languages">
      <table mat-table
             [dataSource]="country.languages"
             class="mat-elevation-z8">

        <ng-container matColumnDef="iso639_1">
          <th mat-header-cell
              *matHeaderCellDef> Iso639_1 </th>
          <td mat-cell
              *matCellDef="let element"> {{element.iso639_1}} </td>
        </ng-container>

        <ng-container matColumnDef="iso639_2">
          <th mat-header-cell
              *matHeaderCellDef> Iso639_2 </th>
          <td mat-cell
              *matCellDef="let element"> {{element.iso639_2}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell
              *matHeaderCellDef> Name </th>
          <td mat-cell
              *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="nativeName">
          <th mat-header-cell
              *matHeaderCellDef> Native name </th>
          <td mat-cell
              *matCellDef="let element"> {{element.nativeName}} </td>
        </ng-container>

        <tr mat-header-row
            *matHeaderRowDef="['iso639_1', 'iso639_2', 'name', 'nativeName']"></tr>
        <tr mat-row
            *matRowDef="let row; columns: ['iso639_1', 'iso639_2', 'name', 'nativeName'];"></tr>
      </table>
    </div>

  </mat-tab>
</mat-tab-group>